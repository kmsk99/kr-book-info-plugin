/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

// main.ts
var main_exports = {};
__export(main_exports, {
  default: () => KrBookInfo
});
module.exports = __toCommonJS(main_exports);
var import_obsidian3 = require("obsidian");

// src/getBookInfo.ts
var import_obsidian = require("obsidian");
var titlePipeline = (title) => {
  return title.replace(/\(.*\)/gi, "").replace(/\[.*\]/gi, "").replace(":", "\uFF1A").replace("?", "\uFF1F").trim();
};
var getBookInfoResult = (_0) => __async(null, [_0], function* ({
  bookUrl,
  defaultTag,
  status,
  myRate,
  bookNote,
  toggleTitle,
  toggleIntroduction,
  toggleIndex
}) {
  var _a, _b, _c, _d, _e;
  bookUrl = encodeURI(bookUrl);
  try {
    const response = yield (0, import_obsidian.requestUrl)({
      url: `http://www.yes24.com` + bookUrl
    });
    const parser = new DOMParser();
    const html = parser.parseFromString(response.text, "text/html");
    const tags = [defaultTag && defaultTag];
    html.querySelectorAll(
      "#infoset_goodsCate > div.infoSetCont_wrap > dl:nth-child(1) > dd > ul > li > a"
    ).forEach((value) => {
      tags.push(value.getText().replace(/(\s*)/g, ""));
    });
    const tag = [...new Set(tags)];
    const mainTitle = html.querySelector(
      "#yDetailTopWrap > div.topColRgt > div.gd_infoTop > div > h2"
    ).getText();
    const subTitle = (_a = html.querySelector(
      "#yDetailTopWrap > div.topColRgt > div.gd_infoTop > div > h3"
    )) == null ? void 0 : _a.getText();
    const title = subTitle ? `${titlePipeline(mainTitle)}\uFF1A${titlePipeline(subTitle)}` : titlePipeline(mainTitle);
    const authors = [];
    html.querySelectorAll(
      "#yDetailTopWrap > div.topColRgt > div.gd_infoTop > span.gd_pubArea > span.gd_auth > a"
    ).forEach((value) => {
      authors.push(value.getText().trim());
    });
    html.querySelectorAll(
      "#yDetailTopWrap > div.topColRgt > div.gd_infoTop > span.gd_pubArea > span.gd_auth > span > span.moreAuthLi > span > ul > li > a"
    ).forEach((value) => {
      authors.push(value.getText().trim());
    });
    const author = [...new Set(authors)];
    const page = +html.querySelector(
      "#infoset_specific > div.infoSetCont_wrap > div > table > tbody > tr:nth-child(2) > td"
    ).getText().split(" ")[0].slice(0, -1) || 0;
    const publishDate = html.querySelector(
      "#yDetailTopWrap > div.topColRgt > div.gd_infoTop > span.gd_pubArea > span.gd_date"
    ).getText().split(" ").map((v) => v.slice(0, -1)).join("-");
    const coverUrl = ((_b = html.querySelector("#yDetailTopWrap > div.topColLft > div").querySelector(
      "#yDetailTopWrap > div.topColLft > div > div.gd_3dGrp > div > span.gd_img > em > img"
    )) == null ? void 0 : _b.getAttribute("src")) || ((_c = html.querySelector(
      "#yDetailTopWrap > div.topColLft > div > span > em > img"
    )) == null ? void 0 : _c.getAttribute("src")) || "";
    const introduction = (_d = html.querySelector(
      "#infoset_introduce > div.infoSetCont_wrap > div.infoWrap_txt > div"
    )) == null ? void 0 : _d.getText().replace(/(<br>|<br\/>|<br \/>)/g, "\r\n").replace(/(<b>|<B>|<\/b>|<\/B>|\[|\]|\*|\#)/g, "").split("\n").map((line) => line.trim() + "\n").join("");
    const index = (_e = html.querySelector(
      "#infoset_toc > div.infoSetCont_wrap > div.infoWrap_txt"
    )) == null ? void 0 : _e.getText().replace(/(<br>|<br\/>|<br \/>)/g, "\r\n").replace(/(<b>|<B>|<\/b>|<\/B>|\[|\]|\*|\#)/g, "").split("\n").map((line) => line.trim() + "\n").join("");
    const frontmatter = {
      created: `${new Date(+/* @__PURE__ */ new Date() + 3240 * 1e4).toISOString().split("T")[0] + " " + (/* @__PURE__ */ new Date()).toTimeString().split(" ")[0].slice(0, 5)}`,
      tag: `${tag.join(" ")}`,
      title: `${title}`,
      author: `${author.join(", ")}`,
      category: `${tag[1]}`,
      total_page: page,
      publish_date: `${publishDate}`,
      cover_url: `${coverUrl}`,
      status: `${status}`,
      start_read_date: `${new Date(+/* @__PURE__ */ new Date() + 3240 * 1e4).toISOString().split("T")[0]}`,
      finish_read_date: `${new Date(+/* @__PURE__ */ new Date() + 3240 * 1e4).toISOString().split("T")[0]}`,
      my_rate: +myRate,
      book_note: `${bookNote}`
    };
    const main = `---
${(0, import_obsidian.stringifyYaml)(frontmatter)}---
${toggleTitle ? `
# ${title}` : ""}${toggleIntroduction ? `

## \uCC45\uC18C\uAC1C
${introduction}` : ""}${toggleIndex ? `

## \uBAA9\uCC28
${index}` : ""}`;
    return {
      ok: true,
      book: {
        title: title.replace("\uFF1A", " ").replace("\uFF1F", "").replace("/", "\uFF0F").replace(/\s{2,}/gi, " "),
        main
      }
    };
  } catch (err) {
    return {
      ok: false
    };
  }
});

// src/searchUrl.ts
var import_obsidian2 = require("obsidian");
var searchBookUrl = (bookName) => __async(null, null, function* () {
  bookName = encodeURI(bookName);
  try {
    const response = yield (0, import_obsidian2.requestUrl)({
      url: "http://www.yes24.com/Product/Search?domain=BOOK&query=" + bookName
    });
    const parser = new DOMParser();
    const html = parser.parseFromString(response.text, "text/html");
    const bookUrl = html.querySelector(
      "#yesSchList > li:nth-child(1) > div > div.item_info > div.info_row.info_name > a.gd_name"
    ).getAttribute("href");
    return { ok: true, url: bookUrl };
  } catch (err) {
    console.log(err);
    return { ok: false };
  }
});
var totalSearchBookUrl = (bookName) => __async(null, null, function* () {
  bookName = encodeURI(bookName);
  try {
    const response = yield (0, import_obsidian2.requestUrl)({
      url: "http://www.yes24.com/Product/Search?domain=ALL&query=" + bookName
    });
    const parser = new DOMParser();
    const html = parser.parseFromString(response.text, "text/html");
    const bookUrl = html.querySelector(
      "#yesSchList > li:nth-child(1) > div > div.item_info > div.info_row.info_name > a.gd_name"
    ).getAttribute("href");
    return { ok: true, url: bookUrl };
  } catch (err) {
    console.log(err);
    return { ok: false };
  }
});
var getBookUrl = (bookName) => __async(null, null, function* () {
  const searchBookResult = yield searchBookUrl(bookName);
  if (searchBookResult.ok) {
    return searchBookResult;
  }
  const searchTotalBookResult = yield totalSearchBookUrl(bookName);
  if (searchTotalBookResult.ok) {
    return searchTotalBookResult;
  }
  return { ok: false };
});

// src/getBook.ts
var getBook = (_0) => __async(null, [_0], function* ({
  bookname,
  defaultTag,
  status,
  myRate,
  bookNote,
  toggleTitle,
  toggleIntroduction,
  toggleIndex
}) {
  const bookUrlResult = yield getBookUrl(bookname);
  if (!bookUrlResult.ok) {
    return { ok: false, error: `${bookname} url not found` };
  }
  const bookInfoResult = yield getBookInfoResult({
    bookUrl: bookUrlResult.url,
    defaultTag,
    status,
    myRate,
    bookNote,
    toggleTitle,
    toggleIntroduction,
    toggleIndex
  });
  if (!bookInfoResult.ok) {
    return { ok: false, error: "Get book info error occured" };
  }
  return { ok: true, book: bookInfoResult.book };
});

// main.ts
var DEFAULT_SETTINGS = {
  statusSetting: "\u{1F7E9} \uC644\uB8CC",
  myRateSetting: "0",
  bookNoteSetting: "\u274C",
  defaultTag: "\u{1F4DA}\uB3C5\uC11C",
  toggleTitle: true,
  toggleIntroduction: false,
  toggleIndex: false
};
var KrBookInfo = class extends import_obsidian3.Plugin {
  addBookInfoToActiveFile() {
    return __async(this, null, function* () {
      const file = this.app.workspace.getActiveFile();
      if (file.extension !== "md") {
        new import_obsidian3.Notice("This file is not md file, Please open md file");
        return;
      }
      if (!file) {
        new import_obsidian3.Notice("There's no active file, Please open new file");
        return;
      }
      new import_obsidian3.Notice("Loading...");
      const {
        ok,
        book: { title, main },
        error
      } = yield getBook({
        bookname: file.basename,
        defaultTag: this.settings.defaultTag,
        status: this.settings.statusSetting,
        myRate: this.settings.myRateSetting,
        bookNote: this.settings.bookNoteSetting,
        toggleTitle: this.settings.toggleTitle,
        toggleIntroduction: this.settings.toggleIntroduction,
        toggleIndex: this.settings.toggleIndex
      });
      if (!ok) {
        new import_obsidian3.Notice(error);
        return;
      }
      const text = yield this.app.vault.read(file);
      this.app.vault.modify(file, main + "\n\n" + text);
      const regExp = /[\{\}\[\]\/?.,;:|\)*~`!^\-+<>@\#$%&\\\=\(\'\"]/gi;
      const fileName = title.replace(regExp, "");
      this.app.fileManager.renameFile(
        this.app.vault.getAbstractFileByPath(file.path),
        file.parent.path + "/" + fileName + ".md"
      );
      new import_obsidian3.Notice(`Success!`);
      return;
    });
  }
  onload() {
    return __async(this, null, function* () {
      yield this.loadSettings();
      this.addCommand({
        id: "add-book-info",
        name: "Add Book Info",
        icon: "lines-of-text",
        callback: () => __async(this, null, function* () {
          yield this.addBookInfoToActiveFile();
        })
      });
      this.addRibbonIcon(
        "lines-of-text",
        "Add Book Info",
        (evt) => __async(this, null, function* () {
          yield this.addBookInfoToActiveFile();
        })
      );
      this.addSettingTab(new KrBookInfoSettingTab(this.app, this));
    });
  }
  loadSettings() {
    return __async(this, null, function* () {
      this.settings = Object.assign(
        {},
        DEFAULT_SETTINGS,
        yield this.loadData()
      );
    });
  }
  saveSettings() {
    return __async(this, null, function* () {
      yield this.saveData(this.settings);
    });
  }
  onunload() {
  }
};
var KrBookInfoSettingTab = class extends import_obsidian3.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Default Setting" });
    new import_obsidian3.Setting(containerEl).setName("Tag").setDesc("Set default tag value").addText(
      (text) => text.setPlaceholder("Enter your default tag").setValue(this.plugin.settings.defaultTag).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.defaultTag = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("Status").setDesc("Set status default value").addText(
      (text) => text.setPlaceholder("Enter your status").setValue(this.plugin.settings.statusSetting).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.statusSetting = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("My Rate").setDesc("Set my_rate default value").addText(
      (text) => text.setPlaceholder("Enter your status").setValue(this.plugin.settings.myRateSetting).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.myRateSetting = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("Book Note").setDesc("Set book_note default value").addText(
      (text) => text.setPlaceholder("Enter your status").setValue(this.plugin.settings.bookNoteSetting).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.bookNoteSetting = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("Toggle Title").setDesc("Add title on main text or not").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.toggleTitle).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.toggleTitle = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("Toggle Introduction").setDesc("Add introduction on main text or not").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.toggleIntroduction).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.toggleIntroduction = value;
        yield this.plugin.saveSettings();
      }))
    );
    new import_obsidian3.Setting(containerEl).setName("Toggle Index").setDesc("Add index on main text or not").addToggle(
      (toggle) => toggle.setValue(this.plugin.settings.toggleIndex).onChange((value) => __async(this, null, function* () {
        this.plugin.settings.toggleIndex = value;
        yield this.plugin.saveSettings();
      }))
    );
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsibWFpbi50cyIsICJzcmMvZ2V0Qm9va0luZm8udHMiLCAic3JjL3NlYXJjaFVybC50cyIsICJzcmMvZ2V0Qm9vay50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiaW1wb3J0IHsgQXBwLCBOb3RpY2UsIFBsdWdpbiwgUGx1Z2luU2V0dGluZ1RhYiwgU2V0dGluZyB9IGZyb20gXCJvYnNpZGlhblwiO1xyXG5pbXBvcnQgeyBnZXRCb29rIH0gZnJvbSBcInNyYy9nZXRCb29rXCI7XHJcblxyXG5pbnRlcmZhY2UgS3JCb29rSW5mb1NldHRpbmdzIHtcclxuXHRzdGF0dXNTZXR0aW5nOiBzdHJpbmc7XHJcblx0bXlSYXRlU2V0dGluZzogc3RyaW5nO1xyXG5cdGJvb2tOb3RlU2V0dGluZzogc3RyaW5nO1xyXG5cdGRlZmF1bHRUYWc6IHN0cmluZztcclxuXHR0b2dnbGVUaXRsZTogYm9vbGVhbjtcclxuXHR0b2dnbGVJbnRyb2R1Y3Rpb246IGJvb2xlYW47XHJcblx0dG9nZ2xlSW5kZXg6IGJvb2xlYW47XHJcbn1cclxuXHJcbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IEtyQm9va0luZm9TZXR0aW5ncyA9IHtcclxuXHRzdGF0dXNTZXR0aW5nOiBcIlx1RDgzRFx1REZFOSBcdUM2NDRcdUI4Q0NcIixcclxuXHRteVJhdGVTZXR0aW5nOiBcIjBcIixcclxuXHRib29rTm90ZVNldHRpbmc6IFwiXHUyNzRDXCIsXHJcblx0ZGVmYXVsdFRhZzogXCJcdUQ4M0RcdURDREFcdUIzQzVcdUMxMUNcIixcclxuXHR0b2dnbGVUaXRsZTogdHJ1ZSxcclxuXHR0b2dnbGVJbnRyb2R1Y3Rpb246IGZhbHNlLFxyXG5cdHRvZ2dsZUluZGV4OiBmYWxzZSxcclxufTtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEtyQm9va0luZm8gZXh0ZW5kcyBQbHVnaW4ge1xyXG5cdHNldHRpbmdzOiBLckJvb2tJbmZvU2V0dGluZ3M7XHJcblxyXG5cdGFzeW5jIGFkZEJvb2tJbmZvVG9BY3RpdmVGaWxlKCkge1xyXG5cdFx0Ly8gY2hlY2sgY3VycmVudCBhY3RpdmUgZmlsZVxyXG5cdFx0Y29uc3QgZmlsZSA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XHJcblxyXG5cdFx0aWYgKGZpbGUuZXh0ZW5zaW9uICE9PSBcIm1kXCIpIHtcclxuXHRcdFx0bmV3IE5vdGljZShcIlRoaXMgZmlsZSBpcyBub3QgbWQgZmlsZSwgUGxlYXNlIG9wZW4gbWQgZmlsZVwiKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghZmlsZSkge1xyXG5cdFx0XHRuZXcgTm90aWNlKFwiVGhlcmUncyBubyBhY3RpdmUgZmlsZSwgUGxlYXNlIG9wZW4gbmV3IGZpbGVcIik7XHJcblx0XHRcdHJldHVybjtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBDYWxsZWQgd2hlbiB0aGUgdXNlciBjbGlja3MgdGhlIGljb24uXHJcblx0XHRuZXcgTm90aWNlKFwiTG9hZGluZy4uLlwiKTtcclxuXHJcblx0XHQvLyBTZWFyY2ggYm9vayB0aHJvdWdoIGN1cnJlbnQgZmlsZSdzIHRpdGxlXHJcblx0XHRjb25zdCB7XHJcblx0XHRcdG9rLFxyXG5cdFx0XHRib29rOiB7IHRpdGxlLCBtYWluIH0sXHJcblx0XHRcdGVycm9yLFxyXG5cdFx0fSA9IGF3YWl0IGdldEJvb2soe1xyXG5cdFx0XHRib29rbmFtZTogZmlsZS5iYXNlbmFtZSxcclxuXHRcdFx0ZGVmYXVsdFRhZzogdGhpcy5zZXR0aW5ncy5kZWZhdWx0VGFnLFxyXG5cdFx0XHRzdGF0dXM6IHRoaXMuc2V0dGluZ3Muc3RhdHVzU2V0dGluZyxcclxuXHRcdFx0bXlSYXRlOiB0aGlzLnNldHRpbmdzLm15UmF0ZVNldHRpbmcsXHJcblx0XHRcdGJvb2tOb3RlOiB0aGlzLnNldHRpbmdzLmJvb2tOb3RlU2V0dGluZyxcclxuXHRcdFx0dG9nZ2xlVGl0bGU6IHRoaXMuc2V0dGluZ3MudG9nZ2xlVGl0bGUsXHJcblx0XHRcdHRvZ2dsZUludHJvZHVjdGlvbjogdGhpcy5zZXR0aW5ncy50b2dnbGVJbnRyb2R1Y3Rpb24sXHJcblx0XHRcdHRvZ2dsZUluZGV4OiB0aGlzLnNldHRpbmdzLnRvZ2dsZUluZGV4LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKCFvaykge1xyXG5cdFx0XHRuZXcgTm90aWNlKGVycm9yKTtcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNoZWNrIGZpbGUncyB0ZXh0XHJcblx0XHRjb25zdCB0ZXh0ID0gYXdhaXQgdGhpcy5hcHAudmF1bHQucmVhZChmaWxlKTtcclxuXHJcblx0XHQvLyBqb2luIEZyb250bWF0dGVyIEFuZCB0ZXh0XHJcblx0XHR0aGlzLmFwcC52YXVsdC5tb2RpZnkoZmlsZSwgbWFpbiArIFwiXFxuXFxuXCIgKyB0ZXh0KTtcclxuXHJcblx0XHRjb25zdCByZWdFeHAgPSAvW1xce1xcfVxcW1xcXVxcLz8uLDs6fFxcKSp+YCFeXFwtKzw+QFxcIyQlJlxcXFxcXD1cXChcXCdcXFwiXS9naTtcclxuXHJcblx0XHQvLyBzYW5pdGl6aW5nIHRoZSB0aXRsZVxyXG5cdFx0Y29uc3QgZmlsZU5hbWUgPSB0aXRsZS5yZXBsYWNlKHJlZ0V4cCwgXCJcIik7XHJcblxyXG5cdFx0Ly8gY2hhbmdlIGZpbGUgbmFtZVxyXG5cdFx0dGhpcy5hcHAuZmlsZU1hbmFnZXIucmVuYW1lRmlsZShcclxuXHRcdFx0dGhpcy5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKGZpbGUucGF0aCksXHJcblx0XHRcdGZpbGUucGFyZW50LnBhdGggKyBcIi9cIiArIGZpbGVOYW1lICsgXCIubWRcIlxyXG5cdFx0KTtcclxuXHJcblx0XHRuZXcgTm90aWNlKGBTdWNjZXNzIWApO1xyXG5cclxuXHRcdHJldHVybjtcclxuXHR9XHJcblxyXG5cdGFzeW5jIG9ubG9hZCgpIHtcclxuXHRcdGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XHJcblxyXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcclxuXHRcdFx0aWQ6IFwiYWRkLWJvb2staW5mb1wiLFxyXG5cdFx0XHRuYW1lOiBcIkFkZCBCb29rIEluZm9cIixcclxuXHRcdFx0aWNvbjogXCJsaW5lcy1vZi10ZXh0XCIsXHJcblx0XHRcdGNhbGxiYWNrOiBhc3luYyAoKSA9PiB7XHJcblx0XHRcdFx0YXdhaXQgdGhpcy5hZGRCb29rSW5mb1RvQWN0aXZlRmlsZSgpO1xyXG5cdFx0XHR9LFxyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8gVGhpcyBjcmVhdGVzIGFuIGljb24gaW4gdGhlIGxlZnQgcmliYm9uLlxyXG5cdFx0dGhpcy5hZGRSaWJib25JY29uKFxyXG5cdFx0XHRcImxpbmVzLW9mLXRleHRcIixcclxuXHRcdFx0XCJBZGQgQm9vayBJbmZvXCIsXHJcblx0XHRcdGFzeW5jIChldnQ6IE1vdXNlRXZlbnQpID0+IHtcclxuXHRcdFx0XHRhd2FpdCB0aGlzLmFkZEJvb2tJbmZvVG9BY3RpdmVGaWxlKCk7XHJcblx0XHRcdH1cclxuXHRcdCk7XHJcblxyXG5cdFx0Ly8gVGhpcyBhZGRzIGEgc2V0dGluZ3MgdGFiIHNvIHRoZSB1c2VyIGNhbiBjb25maWd1cmUgdmFyaW91cyBhc3BlY3RzIG9mIHRoZSBwbHVnaW5cclxuXHRcdHRoaXMuYWRkU2V0dGluZ1RhYihuZXcgS3JCb29rSW5mb1NldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcclxuXHR9XHJcblxyXG5cdGFzeW5jIGxvYWRTZXR0aW5ncygpIHtcclxuXHRcdHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKFxyXG5cdFx0XHR7fSxcclxuXHRcdFx0REVGQVVMVF9TRVRUSU5HUyxcclxuXHRcdFx0YXdhaXQgdGhpcy5sb2FkRGF0YSgpXHJcblx0XHQpO1xyXG5cdH1cclxuXHJcblx0YXN5bmMgc2F2ZVNldHRpbmdzKCkge1xyXG5cdFx0YXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcclxuXHR9XHJcblxyXG5cdG9udW5sb2FkKCkge31cclxufVxyXG5cclxuY2xhc3MgS3JCb29rSW5mb1NldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcclxuXHRwbHVnaW46IEtyQm9va0luZm87XHJcblxyXG5cdGNvbnN0cnVjdG9yKGFwcDogQXBwLCBwbHVnaW46IEtyQm9va0luZm8pIHtcclxuXHRcdHN1cGVyKGFwcCwgcGx1Z2luKTtcclxuXHRcdHRoaXMucGx1Z2luID0gcGx1Z2luO1xyXG5cdH1cclxuXHJcblx0ZGlzcGxheSgpOiB2b2lkIHtcclxuXHRcdGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XHJcblxyXG5cdFx0Y29udGFpbmVyRWwuZW1wdHkoKTtcclxuXHJcblx0XHRjb250YWluZXJFbC5jcmVhdGVFbChcImgyXCIsIHsgdGV4dDogXCJEZWZhdWx0IFNldHRpbmdcIiB9KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJUYWdcIilcclxuXHRcdFx0LnNldERlc2MoXCJTZXQgZGVmYXVsdCB0YWcgdmFsdWVcIilcclxuXHRcdFx0LmFkZFRleHQoKHRleHQpID0+XHJcblx0XHRcdFx0dGV4dFxyXG5cdFx0XHRcdFx0LnNldFBsYWNlaG9sZGVyKFwiRW50ZXIgeW91ciBkZWZhdWx0IHRhZ1wiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRUYWcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRlZmF1bHRUYWcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlN0YXR1c1wiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIlNldCBzdGF0dXMgZGVmYXVsdCB2YWx1ZVwiKVxyXG5cdFx0XHQuYWRkVGV4dCgodGV4dCkgPT5cclxuXHRcdFx0XHR0ZXh0XHJcblx0XHRcdFx0XHQuc2V0UGxhY2Vob2xkZXIoXCJFbnRlciB5b3VyIHN0YXR1c1wiKVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnN0YXR1c1NldHRpbmcpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnN0YXR1c1NldHRpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIk15IFJhdGVcIilcclxuXHRcdFx0LnNldERlc2MoXCJTZXQgbXlfcmF0ZSBkZWZhdWx0IHZhbHVlXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHlvdXIgc3RhdHVzXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MubXlSYXRlU2V0dGluZylcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MubXlSYXRlU2V0dGluZyA9IHZhbHVlO1xyXG5cdFx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdCk7XHJcblxyXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXHJcblx0XHRcdC5zZXROYW1lKFwiQm9vayBOb3RlXCIpXHJcblx0XHRcdC5zZXREZXNjKFwiU2V0IGJvb2tfbm90ZSBkZWZhdWx0IHZhbHVlXCIpXHJcblx0XHRcdC5hZGRUZXh0KCh0ZXh0KSA9PlxyXG5cdFx0XHRcdHRleHRcclxuXHRcdFx0XHRcdC5zZXRQbGFjZWhvbGRlcihcIkVudGVyIHlvdXIgc3RhdHVzXCIpXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuYm9va05vdGVTZXR0aW5nKVxyXG5cdFx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xyXG5cdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5ib29rTm90ZVNldHRpbmcgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlRvZ2dsZSBUaXRsZVwiKVxyXG5cdFx0XHQuc2V0RGVzYyhcIkFkZCB0aXRsZSBvbiBtYWluIHRleHQgb3Igbm90XCIpXHJcblx0XHRcdC5hZGRUb2dnbGUoKHRvZ2dsZSkgPT5cclxuXHRcdFx0XHR0b2dnbGVcclxuXHRcdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy50b2dnbGVUaXRsZSlcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudG9nZ2xlVGl0bGUgPSB2YWx1ZTtcclxuXHRcdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHQpO1xyXG5cclxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxyXG5cdFx0XHQuc2V0TmFtZShcIlRvZ2dsZSBJbnRyb2R1Y3Rpb25cIilcclxuXHRcdFx0LnNldERlc2MoXCJBZGQgaW50cm9kdWN0aW9uIG9uIG1haW4gdGV4dCBvciBub3RcIilcclxuXHRcdFx0LmFkZFRvZ2dsZSgodG9nZ2xlKSA9PlxyXG5cdFx0XHRcdHRvZ2dsZVxyXG5cdFx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnRvZ2dsZUludHJvZHVjdGlvbilcclxuXHRcdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcclxuXHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudG9nZ2xlSW50cm9kdWN0aW9uID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHJcblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcclxuXHRcdFx0LnNldE5hbWUoXCJUb2dnbGUgSW5kZXhcIilcclxuXHRcdFx0LnNldERlc2MoXCJBZGQgaW5kZXggb24gbWFpbiB0ZXh0IG9yIG5vdFwiKVxyXG5cdFx0XHQuYWRkVG9nZ2xlKCh0b2dnbGUpID0+XHJcblx0XHRcdFx0dG9nZ2xlXHJcblx0XHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MudG9nZ2xlSW5kZXgpXHJcblx0XHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XHJcblx0XHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnRvZ2dsZUluZGV4ID0gdmFsdWU7XHJcblx0XHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0KTtcclxuXHR9XHJcbn1cclxuIiwgImltcG9ydCB7IHJlcXVlc3RVcmwsIHN0cmluZ2lmeVlhbWwgfSBmcm9tIFwib2JzaWRpYW5cIjtcblxuaW50ZXJmYWNlIGdldEJvb2tJbmZvT3V0cHV0IHtcblx0b2s6IGJvb2xlYW47XG5cdGJvb2s/OiBib29rRGF0YTtcbn1cblxuaW50ZXJmYWNlIGJvb2tEYXRhIHtcblx0dGl0bGU6IHN0cmluZztcblx0bWFpbjogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgZ2V0Qm9va0luZm9JbnB1dCB7XG5cdGJvb2tVcmw6IHN0cmluZztcblx0ZGVmYXVsdFRhZzogc3RyaW5nO1xuXHRzdGF0dXM6IHN0cmluZztcblx0bXlSYXRlOiBzdHJpbmc7XG5cdGJvb2tOb3RlOiBzdHJpbmc7XG5cdHRvZ2dsZVRpdGxlOiBib29sZWFuO1xuXHR0b2dnbGVJbnRyb2R1Y3Rpb246IGJvb2xlYW47XG5cdHRvZ2dsZUluZGV4OiBib29sZWFuO1xufVxuXG5jb25zdCB0aXRsZVBpcGVsaW5lID0gKHRpdGxlOiBzdHJpbmcpID0+IHtcblx0cmV0dXJuIHRpdGxlXG5cdFx0LnJlcGxhY2UoL1xcKC4qXFwpL2dpLCBcIlwiKVxuXHRcdC5yZXBsYWNlKC9cXFsuKlxcXS9naSwgXCJcIilcblx0XHQucmVwbGFjZShcIjpcIiwgXCJcdUZGMUFcIilcblx0XHQucmVwbGFjZShcIj9cIiwgXCJcdUZGMUZcIilcblx0XHQudHJpbSgpO1xufTtcblxuLy8gZ290byBib29rIGluZm9cbi8vIGlmIGJvb2sgaGFzIHN1YiB0aXRsZSwgdGl0bGUgd2lsbCBiZSBtZXJnZWRcbi8vIGlmIHBhZ2UgaXMgbm90IG51bWJlciwgY29udmVydCBpbnRvIDBcbmV4cG9ydCBjb25zdCBnZXRCb29rSW5mb1Jlc3VsdCA9IGFzeW5jICh7XG5cdGJvb2tVcmwsXG5cdGRlZmF1bHRUYWcsXG5cdHN0YXR1cyxcblx0bXlSYXRlLFxuXHRib29rTm90ZSxcblx0dG9nZ2xlVGl0bGUsXG5cdHRvZ2dsZUludHJvZHVjdGlvbixcblx0dG9nZ2xlSW5kZXgsXG59OiBnZXRCb29rSW5mb0lucHV0KTogUHJvbWlzZTxnZXRCb29rSW5mb091dHB1dD4gPT4ge1xuXHRib29rVXJsID0gZW5jb2RlVVJJKGJvb2tVcmwpO1xuXG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcblx0XHRcdHVybDogYGh0dHA6Ly93d3cueWVzMjQuY29tYCArIGJvb2tVcmwsXG5cdFx0fSk7XG5cblx0XHRjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG5cdFx0Y29uc3QgaHRtbCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcocmVzcG9uc2UudGV4dCwgXCJ0ZXh0L2h0bWxcIik7XG5cblx0XHRjb25zdCB0YWdzOiBzdHJpbmdbXSA9IFtkZWZhdWx0VGFnICYmIGRlZmF1bHRUYWddO1xuXG5cdFx0aHRtbC5xdWVyeVNlbGVjdG9yQWxsKFxuXHRcdFx0XCIjaW5mb3NldF9nb29kc0NhdGUgPiBkaXYuaW5mb1NldENvbnRfd3JhcCA+IGRsOm50aC1jaGlsZCgxKSA+IGRkID4gdWwgPiBsaSA+IGFcIlxuXHRcdCkuZm9yRWFjaCgodmFsdWUpID0+IHtcblx0XHRcdHRhZ3MucHVzaCh2YWx1ZS5nZXRUZXh0KCkucmVwbGFjZSgvKFxccyopL2csIFwiXCIpKTtcblx0XHR9KTtcblxuXHRcdGNvbnN0IHRhZyA9IFsuLi5uZXcgU2V0KHRhZ3MpXTtcblxuXHRcdGNvbnN0IG1haW5UaXRsZSA9IGh0bWxcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcIiN5RGV0YWlsVG9wV3JhcCA+IGRpdi50b3BDb2xSZ3QgPiBkaXYuZ2RfaW5mb1RvcCA+IGRpdiA+IGgyXCJcblx0XHRcdClcblx0XHRcdC5nZXRUZXh0KCk7XG5cblx0XHRjb25zdCBzdWJUaXRsZSA9IGh0bWxcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcIiN5RGV0YWlsVG9wV3JhcCA+IGRpdi50b3BDb2xSZ3QgPiBkaXYuZ2RfaW5mb1RvcCA+IGRpdiA+IGgzXCJcblx0XHRcdClcblx0XHRcdD8uZ2V0VGV4dCgpO1xuXG5cdFx0Y29uc3QgdGl0bGUgPSBzdWJUaXRsZVxuXHRcdFx0PyBgJHt0aXRsZVBpcGVsaW5lKG1haW5UaXRsZSl9XHVGRjFBJHt0aXRsZVBpcGVsaW5lKHN1YlRpdGxlKX1gXG5cdFx0XHQ6IHRpdGxlUGlwZWxpbmUobWFpblRpdGxlKTtcblxuXHRcdGNvbnN0IGF1dGhvcnM6IHN0cmluZ1tdID0gW107XG5cblx0XHRodG1sLnF1ZXJ5U2VsZWN0b3JBbGwoXG5cdFx0XHRcIiN5RGV0YWlsVG9wV3JhcCA+IGRpdi50b3BDb2xSZ3QgPiBkaXYuZ2RfaW5mb1RvcCA+IHNwYW4uZ2RfcHViQXJlYSA+IHNwYW4uZ2RfYXV0aCA+IGFcIlxuXHRcdCkuZm9yRWFjaCgodmFsdWUpID0+IHtcblx0XHRcdGF1dGhvcnMucHVzaCh2YWx1ZS5nZXRUZXh0KCkudHJpbSgpKTtcblx0XHR9KTtcblxuXHRcdGh0bWwucXVlcnlTZWxlY3RvckFsbChcblx0XHRcdFwiI3lEZXRhaWxUb3BXcmFwID4gZGl2LnRvcENvbFJndCA+IGRpdi5nZF9pbmZvVG9wID4gc3Bhbi5nZF9wdWJBcmVhID4gc3Bhbi5nZF9hdXRoID4gc3BhbiA+IHNwYW4ubW9yZUF1dGhMaSA+IHNwYW4gPiB1bCA+IGxpID4gYVwiXG5cdFx0KS5mb3JFYWNoKCh2YWx1ZSkgPT4ge1xuXHRcdFx0YXV0aG9ycy5wdXNoKHZhbHVlLmdldFRleHQoKS50cmltKCkpO1xuXHRcdH0pO1xuXG5cdFx0Y29uc3QgYXV0aG9yID0gWy4uLm5ldyBTZXQoYXV0aG9ycyldO1xuXG5cdFx0Y29uc3QgcGFnZSA9XG5cdFx0XHQraHRtbFxuXHRcdFx0XHQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0XHRcIiNpbmZvc2V0X3NwZWNpZmljID4gZGl2LmluZm9TZXRDb250X3dyYXAgPiBkaXYgPiB0YWJsZSA+IHRib2R5ID4gdHI6bnRoLWNoaWxkKDIpID4gdGRcIlxuXHRcdFx0XHQpXG5cdFx0XHRcdC5nZXRUZXh0KClcblx0XHRcdFx0LnNwbGl0KFwiIFwiKVswXVxuXHRcdFx0XHQuc2xpY2UoMCwgLTEpIHx8IDA7XG5cblx0XHRjb25zdCBwdWJsaXNoRGF0ZSA9IGh0bWxcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcIiN5RGV0YWlsVG9wV3JhcCA+IGRpdi50b3BDb2xSZ3QgPiBkaXYuZ2RfaW5mb1RvcCA+IHNwYW4uZ2RfcHViQXJlYSA+IHNwYW4uZ2RfZGF0ZVwiXG5cdFx0XHQpXG5cdFx0XHQuZ2V0VGV4dCgpXG5cdFx0XHQuc3BsaXQoXCIgXCIpXG5cdFx0XHQubWFwKCh2KSA9PiB2LnNsaWNlKDAsIC0xKSlcblx0XHRcdC5qb2luKFwiLVwiKTtcblxuXHRcdGNvbnN0IGNvdmVyVXJsID1cblx0XHRcdGh0bWxcblx0XHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXCIjeURldGFpbFRvcFdyYXAgPiBkaXYudG9wQ29sTGZ0ID4gZGl2XCIpXG5cdFx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcdFwiI3lEZXRhaWxUb3BXcmFwID4gZGl2LnRvcENvbExmdCA+IGRpdiA+IGRpdi5nZF8zZEdycCA+IGRpdiA+IHNwYW4uZ2RfaW1nID4gZW0gPiBpbWdcIlxuXHRcdFx0XHQpXG5cdFx0XHRcdD8uZ2V0QXR0cmlidXRlKFwic3JjXCIpIHx8XG5cdFx0XHRodG1sXG5cdFx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcdFwiI3lEZXRhaWxUb3BXcmFwID4gZGl2LnRvcENvbExmdCA+IGRpdiA+IHNwYW4gPiBlbSA+IGltZ1wiXG5cdFx0XHRcdClcblx0XHRcdFx0Py5nZXRBdHRyaWJ1dGUoXCJzcmNcIikgfHxcblx0XHRcdFwiXCI7XG5cblx0XHRjb25zdCBpbnRyb2R1Y3Rpb24gPSBodG1sXG5cdFx0XHQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0XCIjaW5mb3NldF9pbnRyb2R1Y2UgPiBkaXYuaW5mb1NldENvbnRfd3JhcCA+IGRpdi5pbmZvV3JhcF90eHQgPiBkaXZcIlxuXHRcdFx0KVxuXHRcdFx0Py5nZXRUZXh0KClcblx0XHRcdC5yZXBsYWNlKC8oPGJyPnw8YnJcXC8+fDxiciBcXC8+KS9nLCBcIlxcclxcblwiKVxuXHRcdFx0LnJlcGxhY2UoLyg8Yj58PEI+fDxcXC9iPnw8XFwvQj58XFxbfFxcXXxcXCp8XFwjKS9nLCBcIlwiKVxuXHRcdFx0LnNwbGl0KFwiXFxuXCIpXG5cdFx0XHQubWFwKChsaW5lKSA9PiBsaW5lLnRyaW0oKSArIFwiXFxuXCIpXG5cdFx0XHQuam9pbihcIlwiKTtcblxuXHRcdGNvbnN0IGluZGV4ID0gaHRtbFxuXHRcdFx0LnF1ZXJ5U2VsZWN0b3IoXG5cdFx0XHRcdFwiI2luZm9zZXRfdG9jID4gZGl2LmluZm9TZXRDb250X3dyYXAgPiBkaXYuaW5mb1dyYXBfdHh0XCJcblx0XHRcdClcblx0XHRcdD8uZ2V0VGV4dCgpXG5cdFx0XHQucmVwbGFjZSgvKDxicj58PGJyXFwvPnw8YnIgXFwvPikvZywgXCJcXHJcXG5cIilcblx0XHRcdC5yZXBsYWNlKC8oPGI+fDxCPnw8XFwvYj58PFxcL0I+fFxcW3xcXF18XFwqfFxcIykvZywgXCJcIilcblx0XHRcdC5zcGxpdChcIlxcblwiKVxuXHRcdFx0Lm1hcCgobGluZSkgPT4gbGluZS50cmltKCkgKyBcIlxcblwiKVxuXHRcdFx0LmpvaW4oXCJcIik7XG5cblx0XHRjb25zdCBmcm9udG1hdHRlciA9IHtcblx0XHRcdGNyZWF0ZWQ6IGAke1xuXHRcdFx0XHRuZXcgRGF0ZSgrbmV3IERhdGUoKSArIDMyNDAgKiAxMDAwMClcblx0XHRcdFx0XHQudG9JU09TdHJpbmcoKVxuXHRcdFx0XHRcdC5zcGxpdChcIlRcIilbMF0gK1xuXHRcdFx0XHRcIiBcIiArXG5cdFx0XHRcdG5ldyBEYXRlKCkudG9UaW1lU3RyaW5nKCkuc3BsaXQoXCIgXCIpWzBdLnNsaWNlKDAsIDUpXG5cdFx0XHR9YCxcblx0XHRcdHRhZzogYCR7dGFnLmpvaW4oXCIgXCIpfWAsXG5cdFx0XHR0aXRsZTogYCR7dGl0bGV9YCxcblx0XHRcdGF1dGhvcjogYCR7YXV0aG9yLmpvaW4oXCIsIFwiKX1gLFxuXHRcdFx0Y2F0ZWdvcnk6IGAke3RhZ1sxXX1gLFxuXHRcdFx0dG90YWxfcGFnZTogcGFnZSxcblx0XHRcdHB1Ymxpc2hfZGF0ZTogYCR7cHVibGlzaERhdGV9YCxcblx0XHRcdGNvdmVyX3VybDogYCR7Y292ZXJVcmx9YCxcblx0XHRcdHN0YXR1czogYCR7c3RhdHVzfWAsXG5cdFx0XHRzdGFydF9yZWFkX2RhdGU6IGAke1xuXHRcdFx0XHRuZXcgRGF0ZSgrbmV3IERhdGUoKSArIDMyNDAgKiAxMDAwMCkudG9JU09TdHJpbmcoKS5zcGxpdChcIlRcIilbMF1cblx0XHRcdH1gLFxuXHRcdFx0ZmluaXNoX3JlYWRfZGF0ZTogYCR7XG5cdFx0XHRcdG5ldyBEYXRlKCtuZXcgRGF0ZSgpICsgMzI0MCAqIDEwMDAwKS50b0lTT1N0cmluZygpLnNwbGl0KFwiVFwiKVswXVxuXHRcdFx0fWAsXG5cdFx0XHRteV9yYXRlOiArbXlSYXRlLFxuXHRcdFx0Ym9va19ub3RlOiBgJHtib29rTm90ZX1gLFxuXHRcdH07XG5cblx0XHRjb25zdCBtYWluID0gYC0tLVxcbiR7c3RyaW5naWZ5WWFtbChmcm9udG1hdHRlcil9LS0tXFxuJHtcblx0XHRcdHRvZ2dsZVRpdGxlID8gYFxcbiMgJHt0aXRsZX1gIDogXCJcIlxuXHRcdH0ke3RvZ2dsZUludHJvZHVjdGlvbiA/IGBcXG5cXG4jIyBcdUNDNDVcdUMxOENcdUFDMUNcXG4ke2ludHJvZHVjdGlvbn1gIDogXCJcIn0ke1xuXHRcdFx0dG9nZ2xlSW5kZXggPyBgXFxuXFxuIyMgXHVCQUE5XHVDQzI4XFxuJHtpbmRleH1gIDogXCJcIlxuXHRcdH1gO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdG9rOiB0cnVlLFxuXHRcdFx0Ym9vazoge1xuXHRcdFx0XHR0aXRsZTogdGl0bGVcblx0XHRcdFx0XHQucmVwbGFjZShcIlx1RkYxQVwiLCBcIiBcIilcblx0XHRcdFx0XHQucmVwbGFjZShcIlx1RkYxRlwiLCBcIlwiKVxuXHRcdFx0XHRcdC5yZXBsYWNlKFwiL1wiLCBcIlx1RkYwRlwiKVxuXHRcdFx0XHRcdC5yZXBsYWNlKC9cXHN7Mix9L2dpLCBcIiBcIiksXG5cdFx0XHRcdG1haW4sXG5cdFx0XHR9LFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHJldHVybiB7XG5cdFx0XHRvazogZmFsc2UsXG5cdFx0fTtcblx0fVxufTtcbiIsICJpbXBvcnQgeyByZXF1ZXN0VXJsIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5cbmludGVyZmFjZSBzZWFyY2hVcmxPdXRwdXQge1xuXHRvazogYm9vbGVhbjtcblx0dXJsPzogc3RyaW5nO1xufVxuXG4vLyBzZWFyY2ggYm9va05hbWUgYW5kIHJldHVybiB5ZXMyNCBzZWFyY2ggcmVzdWx0IGZyb20gXHVBRDZEXHVCMEI0XHVCM0M0XHVDMTFDXG5jb25zdCBzZWFyY2hCb29rVXJsID0gYXN5bmMgKGJvb2tOYW1lOiBzdHJpbmcpOiBQcm9taXNlPHNlYXJjaFVybE91dHB1dD4gPT4ge1xuXHRib29rTmFtZSA9IGVuY29kZVVSSShib29rTmFtZSk7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0VXJsKHtcblx0XHRcdHVybDpcblx0XHRcdFx0XCJodHRwOi8vd3d3LnllczI0LmNvbS9Qcm9kdWN0L1NlYXJjaD9kb21haW49Qk9PSyZxdWVyeT1cIiArXG5cdFx0XHRcdGJvb2tOYW1lLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXHRcdGNvbnN0IGh0bWwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnRleHQsIFwidGV4dC9odG1sXCIpO1xuXG5cdFx0Y29uc3QgYm9va1VybCA9IGh0bWxcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcIiN5ZXNTY2hMaXN0ID4gbGk6bnRoLWNoaWxkKDEpID4gZGl2ID4gZGl2Lml0ZW1faW5mbyA+IGRpdi5pbmZvX3Jvdy5pbmZvX25hbWUgPiBhLmdkX25hbWVcIlxuXHRcdFx0KVxuXHRcdFx0LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cblx0XHRyZXR1cm4geyBvazogdHJ1ZSwgdXJsOiBib29rVXJsIH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0cmV0dXJuIHsgb2s6IGZhbHNlIH07XG5cdH1cbn07XG5cbi8vIHNlYXJjaCBib29rTmFtZSBhbmQgcmV0dXJuIHllczI0IHNlYXJjaCByZXN1bHQgZnJvbSBcdUQxQjVcdUQ1NjlcdUFDODBcdUMwQzlcbmNvbnN0IHRvdGFsU2VhcmNoQm9va1VybCA9IGFzeW5jIChcblx0Ym9va05hbWU6IHN0cmluZ1xuKTogUHJvbWlzZTxzZWFyY2hVcmxPdXRwdXQ+ID0+IHtcblx0Ym9va05hbWUgPSBlbmNvZGVVUkkoYm9va05hbWUpO1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgcmVxdWVzdFVybCh7XG5cdFx0XHR1cmw6XG5cdFx0XHRcdFwiaHR0cDovL3d3dy55ZXMyNC5jb20vUHJvZHVjdC9TZWFyY2g/ZG9tYWluPUFMTCZxdWVyeT1cIiArXG5cdFx0XHRcdGJvb2tOYW1lLFxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXHRcdGNvbnN0IGh0bWwgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHJlc3BvbnNlLnRleHQsIFwidGV4dC9odG1sXCIpO1xuXG5cdFx0Y29uc3QgYm9va1VybCA9IGh0bWxcblx0XHRcdC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcIiN5ZXNTY2hMaXN0ID4gbGk6bnRoLWNoaWxkKDEpID4gZGl2ID4gZGl2Lml0ZW1faW5mbyA+IGRpdi5pbmZvX3Jvdy5pbmZvX25hbWUgPiBhLmdkX25hbWVcIlxuXHRcdFx0KVxuXHRcdFx0LmdldEF0dHJpYnV0ZShcImhyZWZcIik7XG5cblx0XHRyZXR1cm4geyBvazogdHJ1ZSwgdXJsOiBib29rVXJsIH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0cmV0dXJuIHsgb2s6IGZhbHNlIH07XG5cdH1cbn07XG5cbi8vIGdldCBib29rIHVybFxuLy8gaWYgbm90IHNlYXJjaGVkIGluIFx1QUQ2RFx1QjBCNFx1QjNDNFx1QzExQywgcmVzZWFyY2ggYXQgXHVEMUI1XHVENTY5XHVBQzgwXHVDMEM5IGFuZCByZXR1cm4gdXJsXG5leHBvcnQgY29uc3QgZ2V0Qm9va1VybCA9IGFzeW5jIChcblx0Ym9va05hbWU6IHN0cmluZ1xuKTogUHJvbWlzZTxzZWFyY2hVcmxPdXRwdXQ+ID0+IHtcblx0Y29uc3Qgc2VhcmNoQm9va1Jlc3VsdCA9IGF3YWl0IHNlYXJjaEJvb2tVcmwoYm9va05hbWUpO1xuXHRpZiAoc2VhcmNoQm9va1Jlc3VsdC5vaykge1xuXHRcdHJldHVybiBzZWFyY2hCb29rUmVzdWx0O1xuXHR9XG5cblx0Y29uc3Qgc2VhcmNoVG90YWxCb29rUmVzdWx0ID0gYXdhaXQgdG90YWxTZWFyY2hCb29rVXJsKGJvb2tOYW1lKTtcblx0aWYgKHNlYXJjaFRvdGFsQm9va1Jlc3VsdC5vaykge1xuXHRcdHJldHVybiBzZWFyY2hUb3RhbEJvb2tSZXN1bHQ7XG5cdH1cblxuXHRyZXR1cm4geyBvazogZmFsc2UgfTtcbn07XG4iLCAiaW1wb3J0IHsgZ2V0Qm9va0luZm9SZXN1bHQgfSBmcm9tIFwiLi9nZXRCb29rSW5mb1wiO1xuaW1wb3J0IHsgZ2V0Qm9va1VybCB9IGZyb20gXCIuL3NlYXJjaFVybFwiO1xuXG5pbnRlcmZhY2UgZ2V0Qm9va0lucHV0IHtcblx0Ym9va25hbWU6IHN0cmluZztcblx0ZGVmYXVsdFRhZzogc3RyaW5nO1xuXHRzdGF0dXM6IHN0cmluZztcblx0bXlSYXRlOiBzdHJpbmc7XG5cdGJvb2tOb3RlOiBzdHJpbmc7XG5cdHRvZ2dsZVRpdGxlOiBib29sZWFuO1xuXHR0b2dnbGVJbnRyb2R1Y3Rpb246IGJvb2xlYW47XG5cdHRvZ2dsZUluZGV4OiBib29sZWFuO1xufVxuXG5pbnRlcmZhY2UgZ2V0Qm9va091dHB1dCB7XG5cdG9rOiBib29sZWFuO1xuXHRib29rPzogYm9va0RhdGE7XG5cdGVycm9yPzogc3RyaW5nO1xufVxuXG5pbnRlcmZhY2UgYm9va0RhdGEge1xuXHR0aXRsZTogc3RyaW5nO1xuXHRtYWluOiBzdHJpbmc7XG59XG5cbi8vIGdldCBib29rJ3MgaW5mbyBhbmQgcmV0dXJuIGZyb250bWF0dGVyXG5leHBvcnQgY29uc3QgZ2V0Qm9vayA9IGFzeW5jICh7XG5cdGJvb2tuYW1lLFxuXHRkZWZhdWx0VGFnLFxuXHRzdGF0dXMsXG5cdG15UmF0ZSxcblx0Ym9va05vdGUsXG5cdHRvZ2dsZVRpdGxlLFxuXHR0b2dnbGVJbnRyb2R1Y3Rpb24sXG5cdHRvZ2dsZUluZGV4LFxufTogZ2V0Qm9va0lucHV0KTogUHJvbWlzZTxnZXRCb29rT3V0cHV0PiA9PiB7XG5cdGNvbnN0IGJvb2tVcmxSZXN1bHQgPSBhd2FpdCBnZXRCb29rVXJsKGJvb2tuYW1lKTtcblxuXHRpZiAoIWJvb2tVcmxSZXN1bHQub2spIHtcblx0XHRyZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiBgJHtib29rbmFtZX0gdXJsIG5vdCBmb3VuZGAgfTtcblx0fVxuXG5cdGNvbnN0IGJvb2tJbmZvUmVzdWx0ID0gYXdhaXQgZ2V0Qm9va0luZm9SZXN1bHQoe1xuXHRcdGJvb2tVcmw6IGJvb2tVcmxSZXN1bHQudXJsLFxuXHRcdGRlZmF1bHRUYWcsXG5cdFx0c3RhdHVzLFxuXHRcdG15UmF0ZSxcblx0XHRib29rTm90ZSxcblx0XHR0b2dnbGVUaXRsZSxcblx0XHR0b2dnbGVJbnRyb2R1Y3Rpb24sXG5cdFx0dG9nZ2xlSW5kZXgsXG5cdH0pO1xuXG5cdGlmICghYm9va0luZm9SZXN1bHQub2spIHtcblx0XHRyZXR1cm4geyBvazogZmFsc2UsIGVycm9yOiBcIkdldCBib29rIGluZm8gZXJyb3Igb2NjdXJlZFwiIH07XG5cdH1cblxuXHRyZXR1cm4geyBvazogdHJ1ZSwgYm9vazogYm9va0luZm9SZXN1bHQuYm9vayB9O1xufTtcbiJdLAogICJtYXBwaW5ncyI6ICI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLElBQUFBLG1CQUErRDs7O0FDQS9ELHNCQUEwQztBQXVCMUMsSUFBTSxnQkFBZ0IsQ0FBQyxVQUFrQjtBQUN4QyxTQUFPLE1BQ0wsUUFBUSxZQUFZ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QUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxxQkFBcUIsRUFDN0IsUUFBUSxzQ0FBc0MsRUFDOUM7QUFBQSxNQUFVLENBQUMsV0FDWCxPQUNFLFNBQVMsS0FBSyxPQUFPLFNBQVMsa0JBQWtCLEVBQ2hELFNBQVMsQ0FBTyxVQUFVO0FBQzFCLGFBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUMxQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsRUFBQztBQUFBLElBQ0g7QUFFRCxRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsK0JBQStCLEVBQ3ZDO0FBQUEsTUFBVSxDQUFDLFdBQ1gsT0FDRSxTQUFTLEtBQUssT0FBTyxTQUFTLFdBQVcsRUFDekMsU0FBUyxDQUFPLFVBQVU7QUFDMUIsYUFBSyxPQUFPLFNBQVMsY0FBYztBQUNuQyxjQUFNLEtBQUssT0FBTyxhQUFhO0FBQUEsTUFDaEMsRUFBQztBQUFBLElBQ0g7QUFBQSxFQUNGO0FBQ0Q7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iXQp9Cg==
